name: ðŸš€ Deploy New Version

on:
    push:
        tags:
            - 'v*'

jobs:

    # TODO: Add testing job before the release

    deploy-release:
        uses: ./.github/workflows/deploy-release.yaml
        secrets: inherit 
        permissions:
            contents: write  # This allows creating releases
    
    deploy-docs:
        uses: ./.github/workflows/deploy-docs.yaml
        secrets: inherit
        permissions:
            contents: write
            pages: write
            id-token: write